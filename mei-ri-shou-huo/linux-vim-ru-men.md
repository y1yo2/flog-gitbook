---
description: 2021/03/24
---

# linux-vim入门

## vim是什么？

vim是vi的升级版，vim编辑器是所有Unix及Linux系统下标准的编辑器。

## vim学习利器：vimtutor

Vimtutor是一个Vim内置应用，提供入门练习，命令行输入`vimtutor`

## 移动

`h` `j` `k` `l` 

```text
    ^
    k
<h      l>
    j
    v
```

## 退出其他模式、编辑器

`【ESC】` 从其他模式，回到正常模式（Normal）；

`:q!` 丢弃所有改动，退出编辑器；

`:wq` 保存，退出；

`:w 文件名` 保存当前内容到文件名中；

## 删除

`x` 删除一个字；

`dw` 删除光标处至下一个单词的开头；

`d$` 删除光标处至行尾；

### 删除命令

命令由一个操作符和一个动作构成。

删除命令使用删除操作符 d ，格式如下，

`d motion`

其中，`motion` 操作对象（动作）如下，

`w` 光标处直到下一个单词起始处；

`$` 光标处到行末；

`e` 光标处直到单词末尾；

### 数次动作

`0` **移动到行首**；

`2w` 移动2个单词到起始处；

`2e` 移动2个单词到单词末尾；

### 数次操作符和动作（数次命令）

`d number montion`

### 删除整行

`dd` 删除该行

`2dd` 删除两行

## 插入

`i` 开启插入模式（Insert）；

`A` 跳到行尾，开启插入模式（Insert）；

`p` 插入最后一次删除的内容；删除的内容会被放入一个寄存器中；

* 常用技巧：`dd`删除整行，`p`插入该行，实现整行的移动；

`r` 替换一个字；

`R` 替换多个字，直到【ESC】退回正常模式；

`cw` 删除一个单词，并开启插入模式（Insert）；

`c$` 光标处至行尾，并开启插入模式（Insert）；

`c number motion`

`:r Filename` 插入Filename文件的内容；

`o` 下方新增一行，开启插入模式（Insert）；

`O` 上方新增一行，开启插入模式（Insert）；

`a` 当前光标位置后面，开启插入模式（Insert）；

* 配合`e` 跳到每个单词的末尾，`a` 输入；

## 撤销、反撤销

`u` 撤销最后一次命令；`CTRL-Z`

`CTRL-R` 重做被撤销的命令；`CTRL-Y`

`U` 撤销本行所有未保存的change；

## 定位及跳转

`CTRL-G` 当前行号/总行数，文件信息；

`行号 G` 跳转到输入行号；

`G` 跳最后一行

`gg` 跳第一行

`CTRL-O` 上一次的位置；

`CTRL-I` 下一次的位置；类似idea的`ALT-←/→`

`w` 跳到下一个单词起始处；

`$` 跳到行末；

`e` 跳到单词末尾；

`0` **移动到行首**；

## 搜索

`/字符` 搜索字符；

`n` 向下搜索；

`N` 向上搜索；

`%` 配对的括号 `)` 、 `]` 、 `}` ；

* 查找括号不配对时很有用；

`:s/旧字符/新字符` 替换第一个匹配的”旧字符“；

`:s/旧字符/新字符/g` 替换一行匹配的“旧字符”；

`:%s/旧字符/新字符/g` 替换全文匹配的“旧字符”；

`:%s/旧字符/新字符/gc` 替换全文匹配的“旧字符”，并提示；

## 执行外部命令

`:!外部命令` 跳到命令行并执行该命令；

* 例如，另存为文件时，可执行`:!ls` 查看当前目录是否存在文件名；

## 选多行

`v` 进入可视模式（view）；使用hjkl选择多行和多个字符；

* 选择完成后，使用操作符对选中的文本操作；
* 例如，`d` 删除选中文本；`:w Filename` 另存选中文本；

`y` 复制选中的文本；（放入寄存器中）

* `p` 插入复制的内容；

## 设置项

`:set ic` 搜索忽略大小写（Ignore Case）；

`:set noi` 关闭忽略大小写；

`:set hls is` 搜索高亮（hlsearch, incsearch）；

`:nohlsearch` 移除高亮；

## 帮助文档

`:help` 打开帮助文档；（形成上下两个窗口）

* `CTRL-SHIFT-W CTRL-SHIFT-W` 跳转窗口；
* `:q` 直接退出帮助文档窗口；

`:help 命令` 打开对应命令的帮助文档；

## 补全

`CTRL-D` 显示补全的命令列表；

`【TAB】` 补全命令；

* 如果无法补全，请确认不以兼容模式运行 `:set nocp`

## 设置VIM显示样式

设置VIM显示样式，增加高亮、行号等效果；

设置`~/.vimrc` 配置文件，内容可参考 `/usr/share/vim/vim82/vimrc_example.vim` 和 `defaults.vim`

